server:
  port: 7070

# 通义千问配置
qwen:
  api-key: sk-6e5ee0eb41fb451bb543cd3e2f3b1eff
  api-url: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation

spring:
  application:
    name: village-revive-system
  
  # 数据库配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/village?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
    username: root
    password: 54088wsj
  
  # 文件上传配置
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 100MB
  
  # Redis配置
  data:
    redis:
      host: 127.0.0.1
      port: 6379
      database: 0
      timeout: 10000ms
      password: 54088Wsj!
  mail:
    host: smtp.qq.com       # SMTP服务器地址
    port: 465               # SMTP端口（QQ邮箱587/465）
    username: whisky1636@qq.com # 发件人邮箱
    password: estznqytnuozbfea # 邮箱授权码（不是登录密码，需在邮箱设置中开启POP3/SMTP并生成）
    default-encoding: UTF-8
    protocol: smtp
    properties:
      mail:
        smtp:
          auth: true
          socketFactory:
            class: javax.net.ssl.SSLSocketFactory
          starttls:
            enable: true
# MyBatis配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.village.revive.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# MyBatis-Plus配置
mybatis-plus:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.village.revive.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted  # 逻辑删除字段
      logic-delete-value: 1        # 删除值
      logic-not-delete-value: 0    # 未删除值
    banner: true                   # 开启mybatis-plus启动图标

# JWT配置
jwt:
  secret-key: cinemaBookingSystemSecretKey12345678901234567890
  expiration: 86400000  # 24小时有效期(毫秒)

# 自定义配置
cinema:
  # 图片上传路径
  image-upload-path: ./uploads/images/
  # 默认管理员账号
  admin:
    username: admin
    password: admin123
    email: admin@cinema.com

# 文件上传配置
file:
  upload:
    path: ../files  # 文件上传保存路径（与back同级的files目录）
# 自定义验证码配置
verify-code:
  email:
    expire-minutes: 5       # 验证码有效期（5分钟）
    length: 6               # 验证码长度（6位数字）
    send-interval-seconds: 60 # 防刷：同一邮箱60秒内只能发一次
    prefix: "email:code:"   # Redis缓存Key前缀（如：email:code:xxx@qq.com）
    template: "乡村振兴-你的注册验证码是：%s，有效期5分钟,请妥善保管，切勿泄露给他人。"
# 文件上传配置
